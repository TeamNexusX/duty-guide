"use strict";(self.webpackChunkduty_guide=self.webpackChunkduty_guide||[]).push([[181],{8181:(e,n,t)=>{t.r(n),t.d(n,{default:()=>J});var r=t(5893),a=t(7294),o=t(7335),l=t(9250),i=t(9704),s=t(2630),c=t(9857),u=t(4807),d=t(3008),f=t(1681),p=t(5005),h=t(4184),b=t.n(h),v=t(6792);const g=a.forwardRef((({bsPrefix:e,bg:n,pill:t,text:a,className:o,as:l="span",...i},s)=>{const c=(0,v.vE)(e,"badge");return(0,r.jsx)(l,{ref:s,...i,className:b()(o,c,t&&"rounded-pill",a&&`text-${a}`,n&&`bg-${n}`)})}));g.displayName="Badge",g.defaultProps={bg:"primary",pill:!1};const y=g;var m=t(575),x=t(5496),w=t(3618),j=(0,m.hg)("login/userLoginByLastname",(function(e,n){var t,r,a,o,l=e.id,i=e.password;return t=void 0,r=void 0,o=function(){var e,t,r,a,o;return function(e,n){var t,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;o&&(o=0,i[0]&&(l=0)),l;)try{if(t=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){l.label=i[1];break}if(6===i[0]&&l.label<a[1]){l.label=a[1],a=i;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(i);break}a[2]&&l.ops.pop(),l.trys.pop();continue}i=n.call(e,l)}catch(e){i=[6,e],r=0}finally{t=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(s){switch(s.label){case 0:e=n.dispatch,t=n.extra,r=n.rejectWithValue,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,t.api.post("/login",{id:l,password:i})];case 2:if(!(a=s.sent()).data)throw new Error;return localStorage.setItem(w.z,JSON.stringify(a.data)),e(x.FK.setChosenUser(a.data)),[2,a.data];case 3:return o=s.sent(),console.log(o),[2,r("Произошла ошибка, скорее всего неверный пароль для админа")];case 4:return[2]}}))},new((a=void 0)||(a=Promise))((function(e,n){function l(e){try{s(o.next(e))}catch(e){n(e)}}function i(e){try{s(o.throw(e))}catch(e){n(e)}}function s(n){var t;n.done?e(n.value):(t=n.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,i)}s((o=o.apply(t,r||[])).next())}))})),Z=t(9938),O=t(3379),k=t.n(O),N=t(7795),S=t.n(N),C=t(569),I=t.n(C),T=t(3565),A=t.n(T),P=t(9216),z=t.n(P),E=t(4589),L=t.n(E),B=t(7353),F={};F.styleTagTransform=L(),F.setAttributes=A(),F.insert=I().bind(null,"head"),F.domAPI=S(),F.insertStyleElement=z(),k()(B.Z,F);const M=B.Z&&B.Z.locals?B.Z.locals:void 0;var U=function(){return U=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},U.apply(this,arguments)},G=(0,a.memo)((function(e){var n=e.className,t=e.user,o=(0,i.I0)(),s=(0,l.s0)(),h=((0,i.v9)(Z.FT),(0,a.useState)("")),b=h[0],v=h[1],g=(0,a.useState)(!1),m=g[0],x=g[1],w=function(){return x(!1)},O=(0,a.useCallback)((function(e){return n=void 0,t=void 0,a=function(){return function(e,n){var t,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;o&&(o=0,i[0]&&(l=0)),l;)try{if(t=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){l.label=i[1];break}if(6===i[0]&&l.label<a[1]){l.label=a[1],a=i;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(i);break}a[2]&&l.ops.pop(),l.trys.pop();continue}i=n.call(e,l)}catch(e){i=[6,e],r=0}finally{t=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(n){switch(n.label){case 0:return[4,o(j({id:e,password:b}))];case 1:return"Произошла ошибка, скорее всего неверный пароль для админа"===n.sent().payload?x(!0):s("/testing"),v(""),[2]}}))},new((r=void 0)||(r=Promise))((function(e,o){function l(e){try{s(a.next(e))}catch(e){o(e)}}function i(e){try{s(a.throw(e))}catch(e){o(e)}}function s(n){var t;n.done?e(n.value):(t=n.value,t instanceof r?t:new r((function(e){e(t)}))).then(l,i)}s((a=a.apply(n,t||[])).next())}));var n,t,r,a}),[o,s,b]);return(0,r.jsxs)("div",U({className:(0,u.A)(M.UserCardForLogin,{},[n])},{children:[(0,r.jsxs)(f.Z,U({show:m,onHide:w},{children:[(0,r.jsx)(f.Z.Header,{children:(0,r.jsx)(f.Z.Title,{children:"Произошла ошибка"})}),(0,r.jsx)(f.Z.Body,{children:"Произошла ошибка, скорее всего неверный пароль для админа"}),(0,r.jsx)(f.Z.Footer,{children:(0,r.jsx)(p.Z,U({variant:"warning",onClick:w},{children:"Попробовать еще разок..."}))})]})),(0,r.jsxs)("div",U({className:M.info},{children:[(0,r.jsx)("h3",{children:t.lastname}),(0,r.jsx)("h3",{children:t.firstname}),(0,r.jsx)("h3",{children:t.middlename}),"admin"===t.role&&(0,r.jsx)(y,U({bg:"danger"},{children:"ADMIN"}))]})),"admin"===t.role&&(0,r.jsx)(c.I,{size:c.f.SMALL,onChange:v,value:b,placeholder:"Пароль"}),(0,r.jsx)(d.z,U({disabled:!b&&"admin"===t.role,onClick:function(){return O(t.id)},theme:d.b.BLUE},{children:"Войти"}))]}))})),_=t(3150),W=t(1810),$={};$.styleTagTransform=L(),$.setAttributes=A(),$.insert=I().bind(null,"head"),$.domAPI=S(),$.insertStyleElement=z(),k()(W.Z,$);const D=W.Z&&W.Z.locals?W.Z.locals:void 0;var H=function(){return H=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},H.apply(this,arguments)};const J=(0,a.memo)((function(e){e.className,(0,l.s0)();var n=(0,i.I0)(),t=(0,i.v9)(Z.AW),u=(0,i.v9)(Z.FT),d=(0,i.v9)(Z.pJ),f=(0,a.useState)(""),p=f[0],h=f[1];(0,a.useEffect)((function(){n((0,_.z)("")),document.title="Авторизация"}),[n]);var b,v,g=(0,a.useCallback)((function(e){n((0,_.z)(e))}),[n]),y=(b=g,700,v=(0,a.useRef)(),(0,a.useCallback)((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];v.current&&clearTimeout(v.current),v.current=setTimeout((function(){b.apply(void 0,e)}),700)}),[b,700])),m=(0,a.useCallback)((function(e){h(e),y(e)}),[y]);return(0,r.jsxs)(o.v,H({title:"Авторизация"},{children:[d&&(0,r.jsx)(s.a,{}),u&&(0,r.jsx)("h2",{children:u}),(0,r.jsx)(c.I,{className:D.input,size:c.f.SMALL,value:p,onChange:m,placeholder:"Начните вводить ФАМИЛИЮ"}),(null==t?void 0:t.length)?null==t?void 0:t.map((function(e){return(0,r.jsx)(G,{user:e},e.id)})):"Пользователей не найдено"]}))}))},9857:(e,n,t)=>{t.d(n,{I:()=>O,f:()=>j});var r=t(5893),a=t(4807),o=t(3607),l=t(7294),i=t(3379),s=t.n(i),c=t(7795),u=t.n(c),d=t(569),f=t.n(d),p=t(3565),h=t.n(p),b=t(9216),v=t.n(b),g=t(4589),y=t.n(g),m=t(2493),x={};x.styleTagTransform=y(),x.setAttributes=h(),x.insert=f().bind(null,"head"),x.domAPI=u(),x.insertStyleElement=v(),s()(m.Z,x);const w=m.Z&&m.Z.locals?m.Z.locals:void 0;var j,Z=function(){return Z=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Z.apply(this,arguments)};!function(e){e.BIG="big",e.MEDIUM="medium",e.SMALL="small"}(j||(j={}));var O=(0,l.memo)((function(e){(0,o.$)().t;var n,t=e.className,l=e.onChange,i=e.value,s=e.placeholder,c=e.size,u=void 0===c?j.BIG:c,d=e.disabled,f=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t}(e,["className","onChange","value","placeholder","size","disabled"]);return(0,r.jsx)("input",Z({className:(0,a.A)(w.Input,(n={},n[w.disabled]=d,n),[t,w[u]]),value:i,onChange:function(e){null==l||l(e.target.value)},placeholder:s,disabled:d},f))}))},7335:(e,n,t)=>{t.d(n,{v:()=>j});var r=t(5893),a=t(4807),o=t(7294),l=t(3379),i=t.n(l),s=t(7795),c=t.n(s),u=t(569),d=t.n(u),f=t(3565),p=t.n(f),h=t(9216),b=t.n(h),v=t(4589),g=t.n(v),y=t(4334),m={};m.styleTagTransform=g(),m.setAttributes=p(),m.insert=d().bind(null,"head"),m.domAPI=c(),m.insertStyleElement=b(),i()(y.Z,m);const x=y.Z&&y.Z.locals?y.Z.locals:void 0;var w=function(){return w=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},w.apply(this,arguments)},j=(0,o.memo)((function(e){var n=e.className,t=e.children,o=e.title;return(0,r.jsx)("div",w({className:(0,a.A)(x.ContentWrapper,{},[n])},{children:(0,r.jsxs)("div",w({className:x.about_wrapper},{children:[(0,r.jsx)("h1",w({className:x.aboutTitle},{children:o})),(0,r.jsx)("div",w({className:x.content},{children:t}))]}))}))}))},1810:(e,n,t)=>{t.d(n,{Z:()=>i});var r=t(8081),a=t.n(r),o=t(3645),l=t.n(o)()(a());l.push([e.id,".fd7a8{display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;gap:10px}.e86b4{margin-bottom:20px}",""]),l.locals={usersList:"fd7a8",input:"e86b4"};const i=l},7353:(e,n,t)=>{t.d(n,{Z:()=>i});var r=t(8081),a=t.n(r),o=t(3645),l=t.n(o)()(a());l.push([e.id,".dffc1{padding:20px;outline:2px solid var(--secondary-bg-color);display:flex;justify-content:space-between;align-items:center;gap:10px;margin-bottom:10px}.ade92{display:flex;align-items:center;gap:15px}",""]),l.locals={UserCardForLogin:"dffc1",info:"ade92"};const i=l},2493:(e,n,t)=>{t.d(n,{Z:()=>i});var r=t(8081),a=t.n(r),o=t(3645),l=t.n(o)()(a());l.push([e.id,".a85dc{padding:5px 10px;border-radius:5px;color:rgba(0,0,0,.1);background:#d9d9d9}.a85dc:focus{color:rgba(0,0,0,.7);outline:2px solid #000}.b3e54{font-size:40px;font-weight:700;line-height:47px}.f1caa{font-size:32px;font-weight:550;line-height:40px}.a9378{font-size:20px;font-weight:400;line-height:28px}.ea5be{cursor:not-allowed}",""]),l.locals={Input:"a85dc",big:"b3e54",medium:"f1caa",small:"a9378",disabled:"ea5be"};const i=l},4334:(e,n,t)=>{t.d(n,{Z:()=>i});var r=t(8081),a=t.n(r),o=t(3645),l=t.n(o)()(a());l.push([e.id,".e7ee5{padding:20px;background:var(--secondary-bg-color);display:flex;flex-direction:column;gap:10px;align-self:flex-start;justify-self:center}.e65d1{color:#fff;font-size:40px;font-weight:700;text-align:center;line-height:47px}.c62a1{padding:20px;color:#000;background:#fff;display:flex;flex-direction:column}",""]),l.locals={about_wrapper:"e7ee5",aboutTitle:"e65d1",content:"c62a1"};const i=l}}]);